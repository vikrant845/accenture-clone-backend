{"version":3,"sources":["../src/next.ts"],"sourcesContent":["import type { NextRequest } from \"next/server\";\n\nimport type { Json } from \"@uploadthing/shared\";\n\nimport type { RouterWithConfig } from \"./internal/handler\";\nimport type { CreateBuilderOptions } from \"./internal/upload-builder\";\nimport { createBuilder } from \"./internal/upload-builder\";\nimport type { FileRouter } from \"./server\";\nimport { createServerHandler } from \"./server\";\n\nexport type { FileRouter } from \"./internal/types\";\n\nexport const createUploadthing = <TErrorShape extends Json>(\n  opts?: CreateBuilderOptions<TErrorShape>,\n) =>\n  createBuilder<\n    { req: NextRequest; res: undefined; event: undefined },\n    TErrorShape\n  >(opts);\n\nexport const createNextRouteHandler = <TRouter extends FileRouter>(\n  opts: RouterWithConfig<TRouter>,\n) => {\n  const handlers = createServerHandler(opts);\n\n  return {\n    POST: (req: NextRequest) => handlers.POST(req),\n    GET: (req: NextRequest) => handlers.GET(req),\n  };\n};\n"],"mappings":";;;;;;;;;;;AAYO,IAAM,oBAAoB,CAC/B,SAEA,cAGE,IAAI;AAED,IAAM,yBAAyB,CACpC,SACG;AACH,QAAM,WAAW,oBAAoB,IAAI;AAEzC,SAAO;AAAA,IACL,MAAM,CAAC,QAAqB,SAAS,KAAK,GAAG;AAAA,IAC7C,KAAK,CAAC,QAAqB,SAAS,IAAI,GAAG;AAAA,EAC7C;AACF;","names":[]}